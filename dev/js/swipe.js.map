{"version":3,"sources":["swipe.js"],"names":["evt","posX1","posX2","thisList","thisEl","distance","distanceFoodSlider","window","innerWidth","foodSliderItem","offsetWidth","distanceReviewSlider","reviewSliderItem","minDistance","maxDistance","isSwipe","allfoodSlideItem","document","querySelectorAll","allReviewSlideItem","item","addEventListener","swipeStart","event","getEvent","target","ondragstart","currentTarget","parentElement","style","cursor","setCurrentDistance","clientX","moveAt","swipeEnd","transform","reviewsCarousel","type","search","touches","removeEventListener","doSwipe","moveReviewsSlider","reviewSlideWidth","currentReviewSliderIndex","moveFoodSlider","foodSlideWidth","currentFoodSliderIndex","currentDistance","console","log","Math","abs"],"mappings":"AAAA,aAEA,IAAIA,IACAC,MACAC,MACAC,SACAC,OACAC,SAAW,EACXC,mBAAuBC,OAAOC,WAAW,IAAOC,eAAeC,YAAc,IAAMD,eAAeC,YAAc,GAChHC,qBAAuBC,iBAAiBF,YAAc,IACtDG,YAAc,GACdC,YAAc,EACdC,SAAU,EAEd,MAAMC,iBAAmBC,SAASC,iBAAiB,qBAC7CC,mBAAqBF,SAASC,iBAAiB,0BAGrD,IAAK,MAAME,KAAQJ,iBAClBI,EAAKC,iBAAiB,YAAaC,YACnCF,EAAKC,iBAAiB,aAAcC,YAGrC,IAAK,MAAMF,KAAQD,mBAClBC,EAAKC,iBAAiB,YAAaC,YACnCF,EAAKC,iBAAiB,aAAcC,YAGrC,SAASA,WAAYC,GACpBvB,IAAMwB,WACNxB,IAAIyB,OAAOC,YAAc,WACtB,OAAO,GAEVX,SAAU,EACVZ,SAAWoB,EAAMI,cAAcC,cAC/BxB,OAASmB,EAAMI,cACfvB,OAAOyB,MAAMC,OAAS,WACtBC,mBAAmB5B,UACjBF,MAAQD,IAAIgC,QACZf,SAASI,iBAAiB,YAAaY,QACvChB,SAASI,iBAAiB,WAAYa,UACtCjB,SAASI,iBAAiB,YAAaY,QACvChB,SAASI,iBAAiB,UAAWa,UAGxC,SAASD,SACRjC,IAAMwB,WACNtB,MAAQF,IAAIgC,QAAU/B,MACpBA,MAAQD,IAAIgC,QACZ3B,UAAsBH,MACtBC,SAAS0B,MAAMM,UAAY,eAAe9B,cAI7C,SAAS0B,qBACR1B,SAAYF,WAAaiC,gBAAmBzB,qBAAuBL,mBAGpE,SAASkB,WACR,OAAwC,IAAhCD,MAAMc,KAAKC,OAAO,SAAmBf,MAAMgB,QAAQ,GAAKhB,MAGjE,SAASW,SAAUX,GAClBnB,OAAOyB,MAAMC,OAAS,GACpBb,SAASuB,oBAAoB,YAAaP,QACzChB,SAASuB,oBAAoB,YAAaP,QAC1ChB,SAASuB,oBAAoB,WAAYN,UACzCjB,SAASuB,oBAAoB,UAAWN,UACvC/B,WAAaiC,iBACZK,QAAQpC,SAAUM,qBAAsBR,YACvCE,SAASM,qBACZ+B,kBAAkB,SAElBA,kBAAkB,SAGpB/B,qBAAuBgC,iBAAiBC,0BAEpCH,QAAQpC,SAAUC,sBACjBD,SAASC,mBACZuC,eAAe,SAEfA,eAAe,QAEhBvC,mBAAqBwC,eAAeC,wBAKvC,SAASN,QAAQpC,EAAU2C,GAE1B,OADAC,QAAQC,IAAI7C,EAAU2C,EAAiB3C,EAAS2C,GAC5CG,KAAKC,IAAI/C,EAAS2C,GAAiBnC,cAGtCV,SAAS0B,MAAMM,UAAY,eAAea,OACnC","file":"swipe.js","sourcesContent":["\"use strict\";\r\n\r\nlet evt;\r\nlet posX1;\r\nlet posX2;\r\nlet thisList;\r\nlet thisEl;\r\nlet distance = 0;\r\nlet distanceFoodSlider =  (window.innerWidth>580) ? foodSliderItem.offsetWidth + 300 : foodSliderItem.offsetWidth + 50;\r\nlet distanceReviewSlider = reviewSliderItem.offsetWidth + 100;\r\nlet minDistance = 50;\r\nlet maxDistance = 0;\r\nlet isSwipe = false;\r\n\r\nconst allfoodSlideItem = document.querySelectorAll(\".foodSlider__item\");\r\nconst allReviewSlideItem = document.querySelectorAll(\".reviewsCarousel__item\");\r\n\r\n\r\nfor (const item of allfoodSlideItem) {\r\n\titem.addEventListener(\"mousedown\", swipeStart);\r\n\titem.addEventListener(\"touchstart\", swipeStart);\r\n}\t\r\n\r\nfor (const item of allReviewSlideItem) {\r\n\titem.addEventListener(\"mousedown\", swipeStart);\r\n\titem.addEventListener(\"touchstart\", swipeStart);\r\n}\t\r\n\r\nfunction swipeStart (event) {\r\n\tevt = getEvent();\t\r\n\tevt.target.ondragstart = function() {\r\n  \t\treturn false;\r\n\t};\r\n\tisSwipe = false;\r\n\tthisList = event.currentTarget.parentElement;\r\n\tthisEl = event.currentTarget;\r\n\tthisEl.style.cursor = \"grabbing\";\r\n\tsetCurrentDistance(thisList);\r\n  \tposX1 = evt.clientX;\r\n  \tdocument.addEventListener(\"touchmove\", moveAt);\r\n  \tdocument.addEventListener(\"touchend\", swipeEnd);\r\n  \tdocument.addEventListener(\"mousemove\", moveAt);\r\n  \tdocument.addEventListener(\"mouseup\", swipeEnd); \r\n}\r\n\r\nfunction moveAt() {\r\n\tevt = getEvent();\r\n\tposX2 = evt.clientX - posX1;\r\n  \tposX1 = evt.clientX; \r\n  \tdistance = distance - posX2;\r\n  \tthisList.style.transform = `translateX(-${distance}px)`;\r\n}\r\n\r\n\r\nfunction setCurrentDistance () {\r\n\tdistance = (thisList === reviewsCarousel) ? distanceReviewSlider : distanceFoodSlider;\r\n}\r\n\r\nfunction getEvent() {\r\n\treturn (event.type.search(\"touch\") !== -1) ? event.touches[0] : event;\r\n  }\r\n\r\nfunction swipeEnd (event) {\r\n\tthisEl.style.cursor = \"\";\r\n  \tdocument.removeEventListener(\"touchmove\", moveAt);\r\n    document.removeEventListener(\"mousemove\", moveAt);\r\n    document.removeEventListener(\"touchend\", swipeEnd);\r\n    document.removeEventListener(\"mouseup\", swipeEnd); \r\n\tif (thisList === reviewsCarousel) {\r\n\t\tif (doSwipe(distance, distanceReviewSlider, thisList)) {\r\n\t\t\tif (distance>distanceReviewSlider) {\r\n\t\t\t\tmoveReviewsSlider(\"right\");\r\n\t\t\t} else {\r\n\t\t\t\tmoveReviewsSlider(\"left\");\t\t\t\r\n\t\t\t};\r\n\t\t};\r\n\t\tdistanceReviewSlider = reviewSlideWidth*currentReviewSliderIndex;\t\t\r\n\t} else {\r\n\t\tif (doSwipe(distance, distanceFoodSlider)) {\r\n\t\t\tif (distance>distanceFoodSlider) {\r\n\t\t\t\tmoveFoodSlider(\"right\");\r\n\t\t\t} else {\r\n\t\t\t\tmoveFoodSlider(\"left\");\t\t\t\r\n\t\t\t};\r\n\t\t\tdistanceFoodSlider = foodSlideWidth*currentFoodSliderIndex;\r\n\t\t\t};\r\n\t\t};\t\t\r\n}    \r\n\r\nfunction doSwipe(distance, currentDistance) {\r\n\tconsole.log(distance, currentDistance, distance-currentDistance);\r\n\tif (Math.abs(distance-currentDistance)>minDistance) {\r\n\t\treturn true;\r\n\t} else { \r\n\t\tthisList.style.transform = `translateX(-${currentDistance}px`;\r\n\t\treturn false;\r\n\t}\r\n}"]}